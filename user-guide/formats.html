<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">


    <title>Mandolin</title>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mandolin" />
    <meta name="keywords" content="machine learning, distributed" />


    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- 
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/docs.css" rel="stylesheet">
    -->

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


  </head>
  
  <div id="container">
  <div id="header"> 
    <h1 id="logo-text">Mandolin</h1>
  </div>
  <div id="site-content">
  <div id="col-left">    
  <p id="top">
     <p>The general format for all inputs using existing Mandolin classifiers has the following
     form for each line of the input</p>
     <pre><code>&lt;label&gt; &lt;feature_1&gt;:&lt;value&gt; &lt;feature_2&gt;:&lt;value&gt; ... &lt;feature_N&gt;:&lt;value&gt; </code></pre>
     <p>Each line represents a separate training instance.
     The <code>&lt;label&gt;</code> value is a string that denotes the label/class of the training instance.
     Each <code>&lt;feature_i&gt;</code> is either a name of a unique feature in the model or an index that refers
     to which component in the input vector the feature corresponds to.  This input format lends
     itself well to <em>sparse</em> representations where the total number of features in the model
     is large, but for any given instance a relatively small number of features will have a non-zero
     value.</p>
     <p>From this single input format, different representations can be derived depending on
     the number of features, whether they are dense or sparse, etc.</p>
     
     <h2 id="dense-vector-representation" class="section">Dense Vector Representation</h2>
     <p>This representation uses a <a href="../api/index.html#org.mitre.mandolin.util.DenseTensor1">dense vector</a> 
     as the model inputs.  It reads the input assuming that each <code>&lt;feature_i&gt;</code> denoting a feature
     corresponds to index of the feature in the dense vector. 
     This requires that the dimension of the input space be specified a priori.
     This is done by setting the configuration <code>mandolin.app.trainer.dense-vector-size</code> to a positive 
     integer value. For example, if <code>mandolin.app.trainer.dense-vector-size=4</code> an input file
     with feature representations has dense vectors corresponding to those to the right.</p>
     <pre><code> 1:0.2 3:0.4         # ==&gt; [0.2 0.0 0.4 0.0]
 2:0.3               # ==&gt; [0.0 0.3 0.0 0.0]
 2:0.8 3:-1.2 4:2.0  # ==&gt; [0.0 0.8 -1.2 2.0]</code></pre>
     <p>Finally, note that the model topology specification should specify that the inputs are dense
     and not sparse.  See the <a href="Configuration">configuration</a>.</p>
     
     <h2 id="vector-construction-with-an-alphabet" class="section">Vector Construction with an Alphabet</h2>
     <p>This input method does not require that the feature names correspond to integers referring
     to the feature indices.  Instead, features names may be arbitrary strings. The input 
     reader will build up a symbol table that maps each feature name to a unique integer, sometimes
     referred to as an <a href="../api/index.html#org.mitre.mandolin.util.Alphabet">Alphabet</a>.</p>
     <p>Whether the input vectors will be dense or sparse is determined in this case by the
     model specification.  For a dense input representation, the input layer specification should
     have the form: <code>{&quot;ltype&quot;: &quot;Input&quot;, ... }</code>.</p>
     <p>To specify that the input vectors should be sparse, the input layer specification should appear
     as: <code>{&quot;ltype&quot;: &quot;InputSparse&quot;,...}</code>.</p>
     <p>See the <a href="Configuration">configuration</a></p>
     
     <h2 id="hashed-features" class="section">Hashed Features</h2>
     <p>For datasets with a very large number of features, it can be much more efficient
     to simply hash feature names in a way that maps each feature name to an integer
     between <code>0</code> and <code>n</code>, where <code>n</code> is a specified constant. A potential downside
     to this approach is that some feature names may hash to the same integer. If
     this occurs infrequently enough, however, the impact on the model is minimal.
     The integer <code>i</code> is obtained for a feature name <code>&lt;feature_i&gt;</code> represented
     as a <code>String</code> via the expression:</p>
     <pre><code>i = MurmurHash(&lt;feature_i&gt;) % n;</code></pre>
     <p>Where <code>n</code> is the specified size of the hash space and <code>%</code> is the modulo operator. The function
     <code>MurmurHash</code> is the MurmurHash3 algorithm.</p>
     <p>As the input vector space will be large and instances here will be sparse
     the input layer specification should have the form: <code>{&quot;ltype&quot;: &quot;InputSparse&quot;,...}</code></p>
     
     <h2 id="label-file" class="section">Label File</h2>
     <p>For <em>all</em> input datasets the labels to be used by the classifier must be specified
     in a separate file, indicated with the configuration option <code>mandolin.app.trainer.label-file</code>.
     This file should contain the labels (as strings) that match the labels in 
     <code>mandolin.app.trainer.train-file</code> and <code>mandolin.app.trainer.test-file</code></p>      
  </p>
  </div>

  <div id="col-right">
    <!-- <div style="padding: 30px 10px 10px;">  -->
      <ul>
       <div class="toc">
         <ul>
           <li>
             <p class="toc level1">Overview</p>
             <ul>
               <li><a class="toc level2" href="../overview/intro.html">Introduction</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Users Guide</p>
             <ul>
               <li><a class="toc level2" href="installation.html">Installation</a></li>
               <li><a class="toc level2" href="quick-start.html">Quickstart</a></li>
               <li><span class="toc level2 active">Formats</span></li>
               <li><a class="toc level2" href="configuration.html">Configuration</a></li>
               <li><a class="toc level2" href="mandolin-glp.html">Generalized Layered Perceptron</a></li>
               <li><a class="toc level2" href="specification.html">Model Specification</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Quick-start Without Spark</p>
             <ul>
               <li><a class="toc level2" href="../without-spark-quickstart/linear-classifier.html">Linear Classifier</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Developer Docs</p>
             <ul>
               <li><a class="toc level2" href="../api-docs/api.html">API Docs</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Runtime Decoder</p>
             <ul>
               <li><a class="toc level2" href="../runtime-decoder/runtime-decoder.html">Runtime Decoder</a></li>
             </ul>
           </li>
         </ul>
       </div>
      </ul>
    </div>
  </div>



  </div>


</body></html>
