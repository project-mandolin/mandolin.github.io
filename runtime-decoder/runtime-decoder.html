<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">


    <title>Mandolin</title>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mandolin" />
    <meta name="keywords" content="machine learning, distributed" />


    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- 
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/docs.css" rel="stylesheet">
    -->

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


  </head>
  
  <div id="container">
  <div id="header"> 
    <h1 id="logo-text">Mandolin</h1>
  </div>
  <div id="site-content">
  <div id="col-left">    
  <p id="top">
     
     <h1 id="runtime-decoder" class="title">Runtime Decoder</h1>
     <p>To use a trained model as part of a larger application, it&#39;s helpful to have a simple runtime <em>decoder</em>
     that can be used to process new data instances and produce a prediction and/or generate a full posterior
     distribution.  Mandolin provides a simple mechanism to do this allowing a model to be called easily from
     Scala or Java.  From Scala, a simple case might be:</p>
     <pre><code>import org.mitre.mandolin.app.GlpRuntimeDecoder
import org.mitre.mandolin.app.StringDoublePair

val modelFile = new java.io.File(modelFilePath)
val decoder = new GlpRuntimeDecoder(modelFile)
val fv = List(StringDoublePair(&quot;1&quot;,-0.722222), 
              StringDoublePair(&quot;2&quot;,0.166667), 
              StringDoublePair(&quot;3&quot;,-0.694915),
              StringDoublePair(&quot;4&quot;,-0.916667))

// run the model against the feature vector, fv
// get the most probable explanation along with its posterior probability
val mpe : StringDoublePair = decoder.decodePairsMPEWithScore(fv)</code></pre>
     <p>The same functionality is realized in Java with:</p>
     <pre><code>import org.mitre.mandolin.app.GlpRuntimeDecoder;
import org.mitre.mandolin.app.StringDoublePair;
import java.util.List;
import java.util.ArrayList;

File modelFile = new File(modelFilePath);
GlpRuntimeDecoder decoder = new GlpRuntimeDecoder(modelFile);
List&lt;StringDoublePair&gt; fv = new ArrayList&lt;StringDoublePair&gt;();
fv.add(new StringDoublePair(&quot;1&quot;,-0.722222),
       new StringDoublePair(&quot;2&quot;,0.166667), 
       new StringDoublePair(&quot;3&quot;,-0.694915),
       new StringDoublePair(&quot;4&quot;,-0.916667));

StringDoublePair mpe = decoder.decodePairsMPEWithScore(fv);</code></pre>
     <p>Note that the <code>GlpRuntimeDecoder</code> class includes methods for handling
     both Scala and Java lists.</p>      
  </p>
  </div>

  <div id="col-right">
    <!-- <div style="padding: 30px 10px 10px;">  -->
      <ul>
       <div class="toc">
         <ul>
           <li>
             <p class="toc level1">Overview</p>
             <ul>
               <li><a class="toc level2" href="../overview/intro.html">Introduction</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Users Guide</p>
             <ul>
               <li><a class="toc level2" href="../user-guide/installation.html">Installation</a></li>
               <li><a class="toc level2" href="../user-guide/quick-start.html">Quickstart</a></li>
               <li><a class="toc level2" href="../user-guide/formats.html">Formats</a></li>
               <li><a class="toc level2" href="../user-guide/configuration.html">Configuration</a></li>
               <li><a class="toc level2" href="../user-guide/mandolin-glp.html">Generalized Layered Perceptron</a></li>
               <li><a class="toc level2" href="../user-guide/specification.html">Model Specification</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Quick-start Without Spark</p>
             <ul>
               <li><a class="toc level2" href="../without-spark-quickstart/linear-classifier.html">Linear Classifier</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Developer Docs</p>
             <ul>
               <li><a class="toc level2" href="../api-docs/api.html">API Docs</a></li>
             </ul>
           </li>
           <li>
             <p class="toc level1">Runtime Decoder</p>
             <ul>
               <li><span class="toc level2 active">Runtime Decoder</span></li>
             </ul>
           </li>
         </ul>
       </div>
      </ul>
    </div>
  </div>



  </div>


</body></html>
